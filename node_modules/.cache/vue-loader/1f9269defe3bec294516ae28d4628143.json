{"remainingRequest":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/src/views/department/DepartmentMain.vue?vue&type=template&id=11bb7004","dependencies":[{"path":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/src/views/department/DepartmentMain.vue","mtime":1639541022842},{"path":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1628298225000},{"path":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICA8ZGl2PgogICAgICAgIDxkaXY+CiAgICAgICAgICAgIDxoMT4KICAgICAgICAgICAgICAgIHt7ICRyb3V0ZS5wYXJhbXMuZGVwYXJ0bWVudElkIH19IAogICAgICAgICAgICAgICAgPGJyPgogICAgICAgICAgICAgICAgQ3VycmVudCB1c2VyIDoge3sgdXNlcklkfX0KICAgICAgICAgICAgPC9oMT4KICAgICAgICAgICAgPGRpdiBjbGFzcz0icGxhbi1yZWdpc3RlcmF0aW9uIj4KICAgICAgICAgICAgICAgIDxmb3JtIEBzdWJtaXQucHJldmVudD0icmVnaXN0ZXJQbGFuIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJhZGRyZXNzIj7lnLDlnYA6IDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxicj4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJhZGRyZXNzIiB0eXBlPSJ0ZXh0IiB2LW1vZGVsPSJhZGRyZXNzIiA+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0icGxhbklkIj5JRDogPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGJyPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9InBsYW5JZCIgdHlwZT0idGV4dCIgdi1tb2RlbD0icGxhbklkIiA+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0icGxhbk5hbWUiPuWwiOahiOWQjeeosTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8YnI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0icGxhbk5hbWUiIHR5cGU9InRleHQiIHYtbW9kZWw9InBsYW5OYW1lIiA+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iZ29hbCI+55uu5qiZOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxicj4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJnb2FsIiB0eXBlPSJudW1iZXIiIHYtbW9kZWw9ImdvYWwiPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImRlc2NyaXRwaW9uIj7mj4/ov7A6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGJyPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9ImRlc2NyaXRwaW9uIiB0eXBlPSJ0ZXh0IiB2LW1vZGVsPSJkZXNjcml0cGlvbiI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGJyPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSLmj5DkuqQiPgogICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICA8UmVnaXN0ZXJORlQ+PC9SZWdpc3Rlck5GVD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8YnI+CiAgICAgICAgPGRpdiB2LWZvcj0iKHBsYW4sIGlkKSBpbiBwbGFucyIgOmtleT0iaWQiPgogICAgICAgICAgICA8UGxhbiA6cGxhbj0icGxhbiI+CiAgICAgICAgICAgIDwvUGxhbj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2Pgo="},{"version":3,"sources":["/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/src/views/department/DepartmentMain.vue"],"names":[],"mappings":"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","file":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/src/views/department/DepartmentMain.vue","sourceRoot":"","sourcesContent":["<template>\n    <div>\n        <div>\n            <h1>\n                {{ $route.params.departmentId }} \n                <br>\n                Current user : {{ userId}}\n            </h1>\n            <div class=\"plan-registeration\">\n                <form @submit.prevent=\"registerPlan\">\n                    <div>\n                        <label for=\"address\">地址: </label>\n                        <br>\n                        <input id=\"address\" type=\"text\" v-model=\"address\" >\n                    </div>\n                    <div>\n                        <label for=\"planId\">ID: </label>\n                        <br>\n                        <input id=\"planId\" type=\"text\" v-model=\"planId\" >\n                    </div>\n                    <div>\n                        <label for=\"planName\">專案名稱:</label>\n                        <br>\n                        <input id=\"planName\" type=\"text\" v-model=\"planName\" >\n                    </div>\n                    <div>\n                        <label for=\"goal\">目標:</label>\n                        <br>\n                        <input id=\"goal\" type=\"number\" v-model=\"goal\">\n                    </div>\n                    <div>\n                        <label for=\"descritpion\">描述:</label>\n                        <br>\n                        <input id=\"descritpion\" type=\"text\" v-model=\"descritpion\">\n                    </div>\n                    <br>\n                    <input type=\"submit\" value=\"提交\">\n                </form>\n                <div>\n                    <RegisterNFT></RegisterNFT>\n                </div>\n            </div>\n        </div>\n        <br>\n        <div v-for=\"(plan, id) in plans\" :key=\"id\">\n            <Plan :plan=\"plan\">\n            </Plan>\n        </div>\n    </div>\n</template>\n\n<script>\nimport {useRoute, useRouter} from 'vue-router'\nimport {onBeforeMount, ref, computed} from 'vue'\nimport {web3, contract} from '@/contract/contract.js'\nimport {useStore} from 'vuex'\n\nimport RegisterNFT from \"@/components/nft/RegisterNFT.vue\"\nimport Plan from '@/components/plan/PlanTemp.vue'\n\nexport default {\n    components: {\n        Plan,\n        RegisterNFT\n    },\n    setup(props) {\n        const route = useRoute()\n        const router = useRouter()\n        const store = useStore()\n\n        const planId = ref(\"\")\n        const planName = ref(\"\")\n        const goal = ref(0)\n        const descritpion = ref(\"\")\n\n        const registerPlan = async () => {\n            const address = await web3.eth.getAccounts()\n            contract.methods.createPlan(route.params.departmentId, planName.value, descritpion.value, goal.value)\n                .send({\n                    from : address[0],\n                    gas : 9187500,\n            }).catch(window.alert)\n        }\n        \n        // onBeforeMount(() => {\n        //     if (store.state.user.ethereumId == null){\n        //         // window.alert(\"Has not register!\")\n        //         router.replace('/register-donor')\n        //     }\n        // })\n        store.dispatch(\"fetchPlan\", route.params.departmentId)\n        return{\n            planId,\n            planName,\n            goal,\n            descritpion,\n            address: computed(() => store.state.user.address),\n            plans: computed(() => store.state.plan),\n            userId: computed(() => store.state.user.ethereumId),\n            registerPlan\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}