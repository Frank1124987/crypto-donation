{"remainingRequest":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\src\\views\\user\\RegisterDonor.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\src\\views\\user\\RegisterDonor.vue","mtime":1634916527510},{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGNvbnRyYWN0IH0gZnJvbSAnQC9jb250cmFjdC9jb250cmFjdC5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgdmFyIHVzZXJJZCA9IHJlZigiIik7CiAgICB2YXIgdXNlck5hbWUgPSByZWYoIiIpOwoKICAgIHZhciByZWdpc3RlckRvbm9yID0gZnVuY3Rpb24gcmVnaXN0ZXJEb25vcigpIHsKICAgICAgY29udHJhY3QubWV0aG9kcy5yZWdpc3RlckRvbm9yKHVzZXJJZC52YWx1ZSwgdXNlck5hbWUudmFsdWUpLnNlbmQoewogICAgICAgIGZyb206IHN0b3JlLnN0YXRlLnVzZXIuYWRkcmVzcywKICAgICAgICBnYXM6IDY3MjE5NzUsCiAgICAgICAgZ2FzUHJpY2U6ICczMDAwMDAwMCcKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgc3RvcmUuY29tbWl0KCJhZGRVc2VySWQiLCB1c2VySWQudmFsdWUpOwogICAgICAgIGNvbnRyYWN0Lm1ldGhvZHMucmVnaXN0ZXJMb2dpbkFkZHJlc3ModXNlcklkLnZhbHVlLCBhZGRyZXNzLnZhbHVlKS5zZW5kKHsKICAgICAgICAgIGZyb206IGFkZHJlc3MudmFsdWUsCiAgICAgICAgICBnYXM6IDY3MjE5NzUsCiAgICAgICAgICBnYXNQcmljZTogJzMwMDAwMDAwJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgcmVnaXN0ZXJEb25vcjogcmVnaXN0ZXJEb25vciwKICAgICAgdXNlck5hbWU6IHVzZXJOYW1lLAogICAgICB1c2VySWQ6IHVzZXJJZCwKICAgICAgYWRkcmVzczogY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS51c2VyLmFkZHJlc3M7CiAgICAgIH0pCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\src\\views\\user\\RegisterDonor.vue"],"names":[],"mappings":"AA4BA,SAAQ,GAAR,EAAa,QAAb,QAA4B,KAA5B;AACA,SAAQ,QAAR,QAAuB,MAAvB;AACA,SAAQ,QAAR,QAAuB,wBAAvB;AAEA,eAAc;AACV,EAAA,KADU,mBACH;AACH,QAAM,KAAI,GAAI,QAAQ,EAAtB;AAEA,QAAM,MAAK,GAAI,GAAG,CAAC,EAAD,CAAlB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC,EAAD,CAApB;;AAEA,QAAM,aAAY,GAAI,SAAhB,aAAgB,GAAM;AACxB,MAAA,QAAQ,CAAC,OAAT,CAAiB,aAAjB,CAA+B,MAAM,CAAC,KAAtC,EAA6C,QAAQ,CAAC,KAAtD,EAA6D,IAA7D,CAAkE;AAC9D,QAAA,IAAI,EAAE,KAAK,CAAC,KAAN,CAAY,IAAZ,CAAiB,OADuC;AAE9D,QAAA,GAAE,EAAI,OAFwD;AAG9D,QAAA,QAAO,EAAI;AAHmD,OAAlE,EAIG,IAJH,CAIQ,YAAM;AACV,QAAA,KAAK,CAAC,MAAN,CAAa,WAAb,EAA0B,MAAM,CAAC,KAAjC;AACA,QAAA,QAAQ,CAAC,OAAT,CAAiB,oBAAjB,CAAsC,MAAM,CAAC,KAA7C,EAAoD,OAAO,CAAC,KAA5D,EAAmE,IAAnE,CAAwE;AACpE,UAAA,IAAI,EAAE,OAAO,CAAC,KADsD;AAEpE,UAAA,GAAE,EAAI,OAF8D;AAGpE,UAAA,QAAO,EAAI;AAHyD,SAAxE;AAKH,OAXD;AAYJ,KAbA;;AAeA,WAAO;AACH,MAAA,aAAa,EAAb,aADG;AAEH,MAAA,QAAQ,EAAR,QAFG;AAGH,MAAA,MAAM,EAAN,MAHG;AAIH,MAAA,OAAO,EAAE,QAAQ,CAAC;AAAA,eAAM,KAAK,CAAC,KAAN,CAAY,IAAZ,CAAiB,OAAvB;AAAA,OAAD;AAJd,KAAP;AAMJ;AA5BU,CAAd","sourcesContent":["<template>\r\n    <div>\r\n        <h1>\r\n            登記捐款帳號\r\n        </h1>\r\n        <form @submit.prevent=\"registerDonor\">\r\n            <div>\r\n                <label for=\"userId\">ID: </label>\r\n                <br>\r\n                <input id=\"userId\" type=\"text\" v-model=\"userId\" >\r\n            </div>\r\n            <div>\r\n                <label for=\"userName\">使用者名稱:</label>\r\n                <br>\r\n                <input id=\"userName\" type=\"text\" v-model=\"userName\" >\r\n            </div>\r\n            <div>\r\n                <label for=\"address\">地址: </label>\r\n                <br>\r\n                <input id=\"address\" type=\"text\" v-model=\"address\" >\r\n            </div>\r\n            <br>\r\n            <input type=\"submit\" value=\"提交\">\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {ref, computed} from 'vue'\r\nimport {useStore} from 'vuex'\r\nimport {contract} from '@/contract/contract.js'\r\n\r\nexport default{\r\n    setup(){\r\n        const store = useStore()\r\n\r\n        const userId = ref(\"\")\r\n        const userName = ref(\"\")\r\n        \r\n        const registerDonor = () => {\r\n            contract.methods.registerDonor(userId.value, userName.value).send({\r\n                from: store.state.user.address,\r\n                gas : 6721975,\r\n                gasPrice : '30000000'  \r\n            }).then(() => {\r\n                store.commit(\"addUserId\", userId.value)\r\n                contract.methods.registerLoginAddress(userId.value, address.value).send({\r\n                    from: address.value,\r\n                    gas : 6721975,\r\n                    gasPrice : '30000000'  \r\n                })\r\n            })\r\n        }\r\n\r\n        return {\r\n            registerDonor,\r\n            userName,\r\n            userId,\r\n            address: computed(() => store.state.user.address)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":""}]}