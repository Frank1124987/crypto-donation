{"remainingRequest":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/babel-loader/lib/index.js!/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/src/views/department/RegisterDepartment.vue?vue&type=template&id=df85b0b0&scoped=true","dependencies":[{"path":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/src/views/department/RegisterDepartment.vue","mtime":1642503172348},{"path":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1628298225000},{"path":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHZNb2RlbFRleHQgYXMgX3ZNb2RlbFRleHQsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHdpdGhNb2RpZmllcnMgYXMgX3dpdGhNb2RpZmllcnMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtZGY4NWIwYjAiKTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAicmVnaXN0ZXJEZXBhcnRtZW50Igp9OwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDEiLCBudWxsLCAiIOeZu+iomOmDqOmWgCAiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIHsKICBmb3I6ICJhZGRyZXNzIgp9LCAi5Zyw5Z2AOiAiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF81ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgewogIGZvcjogImRlcGFydG1lbnRJZCIKfSwgIklEOiAiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF83ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgewogIGZvcjogImRlcGFydG1lbnROYW1lIgp9LCAi6YOo6ZaA5ZCN56ixOiIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF84ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImJyIiwgbnVsbCwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzkgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnIiLCBudWxsLCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMTAgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW5wdXQiLCB7CiAgdHlwZTogInN1Ym1pdCIsCiAgdmFsdWU6ICLmj5DkuqQiCn0sIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfaG9pc3RlZF8yLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZm9ybSIsIHsKICAgIG9uU3VibWl0OiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IF93aXRoTW9kaWZpZXJzKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRzZXR1cC5yZWdpc3RlciAmJiAkc2V0dXAucmVnaXN0ZXIuYXBwbHkoJHNldHVwLCBhcmd1bWVudHMpOwogICAgfSwgWyJwcmV2ZW50Il0pKQogIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBudWxsLCBbX2hvaXN0ZWRfMywgX2hvaXN0ZWRfNCwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgaWQ6ICJhZGRyZXNzIiwKICAgIHR5cGU6ICJ0ZXh0IiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkc2V0dXAuYWRkcmVzcyA9ICRldmVudDsKICAgIH0pCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRzZXR1cC5hZGRyZXNzXV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIG51bGwsIFtfaG9pc3RlZF81LCBfaG9pc3RlZF82LCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW5wdXQiLCB7CiAgICBpZDogImRlcGFydG1lbnRJZCIsCiAgICB0eXBlOiAidGV4dCIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJHNldHVwLmRlcGFydG1lbnRJZCA9ICRldmVudDsKICAgIH0pCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRzZXR1cC5kZXBhcnRtZW50SWRdXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgW19ob2lzdGVkXzcsIF9ob2lzdGVkXzgsIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKCJpbnB1dCIsIHsKICAgIGlkOiAiZGVwYXJ0bWVudE5hbWUiLAogICAgdHlwZTogInRleHQiLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRzZXR1cC5kZXBhcnRtZW50TmFtZSA9ICRldmVudDsKICAgIH0pCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRzZXR1cC5kZXBhcnRtZW50TmFtZV1dKV0pLCBfaG9pc3RlZF85LCBfY3JlYXRlQ29tbWVudFZOb2RlKCIgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImVtYWlsXCI+RW1haWw6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPGJyPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJlbWFpbFwiIHR5cGU9XCJ0ZXh0XCIgdi1tb2RlbD1cImVtYWlsXCI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInBob25lXCI+6IGv57Wh6Zu76KmxOjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxicj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPVwicGhvbmVcIiB0eXBlPVwidGV4dFwiIHYtbW9kZWw9XCJwaG9uZVwiPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJjYXRlZ29yeS1vZmZpY2lhbFwiIHR5cGU9XCJyYWRpb1wiIHYtbW9kZWw9XCJjYXRlZ29yeVwiIHZhbHVlPVwi5a6Y5pa5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJjYXRlZ29yeS1vZmZpY2lhbFwiPuWumOaWuTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cImNhdGVnb3J5LXN0dWRlbnRcIiB0eXBlPVwicmFkaW9cIiB2LW1vZGVsPVwiY2F0ZWdvcnlcIiB2YWx1ZT1cIuWtuOeUn1wiPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiY2F0ZWdvcnktc3R1ZGVudFwiPuWtuOeUnzwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9wPiAiKSwgX2hvaXN0ZWRfMTBdLCAzMgogIC8qIEhZRFJBVEVfRVZFTlRTICovCiAgKV0pXSk7Cn0="},{"version":3,"sources":["/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/src/views/department/RegisterDepartment.vue"],"names":[],"mappings":";;;;;AACS,EAAA,KAAK,EAAC;;;8BACP,mBAAA,CAEK,IAFL,EAEK,IAFL,EAAI,QAAJ,EAEA,CAAA;AAAA;AAFA,C;;8BAMY,mBAAA,CAAiC,OAAjC,EAAiC;AAA1B,EAAA,GAAG,EAAC;AAAsB,CAAjC,EAAqB,MAArB,EAAyB,CAAA;AAAA;AAAzB,C;;8BACA,mBAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA;AAAA;AAAJ,C;;8BAIA,mBAAA,CAAsC,OAAtC,EAAsC;AAA/B,EAAA,GAAG,EAAC;AAA2B,CAAtC,EAA0B,MAA1B,EAA8B,CAAA;AAAA;AAA9B,C;;8BACA,mBAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA;AAAA;AAAJ,C;;8BAIA,mBAAA,CAAyC,OAAzC,EAAyC;AAAlC,EAAA,GAAG,EAAC;AAA8B,CAAzC,EAA4B,OAA5B,EAAiC,CAAA;AAAA;AAAjC,C;;8BACA,mBAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA;AAAA;AAAJ,C;;8BAGJ,mBAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA;AAAA;AAAJ,C;;+BAkBA,mBAAA,CAAgC,OAAhC,EAAgC;AAAzB,EAAA,IAAI,EAAC,QAAoB;AAAX,EAAA,KAAK,EAAC;AAAK,CAAhC,E,IAAA,E;;AAAA,C;;;;;uBAvCZ,mBAAA,CA0CM,KA1CN,EAAA,UAAA,EA0CM,CAzCF,UAyCE,EAtCF,mBAAA,CAqCM,KArCN,EAqCM,IArCN,EAqCM,CApCF,mBAAA,CAmCO,MAnCP,EAmCO;AAnCA,IAAA,QAAM,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,cAAA,CAAA;AAAA,aAAU,MAAA,CAAA,QAAA,IAAA,MAAA,CAAA,QAAA,OAAA,MAAA,YAAV;AAAA,KAAA,EAAkB,CAAA,SAAA,CAAlB,CAAA;AAmCN,GAnCP,E,CACI,mBAAA,CAIM,KAJN,EAIM,IAJN,EAIM,CAHF,UAGE,EAFF,UAEE,E,gBADF,mBAAA,CAAmD,OAAnD,EAAmD;AAA5C,IAAA,EAAE,EAAC,SAAyC;AAA/B,IAAA,IAAI,EAAC,MAA0B;;aAAV,MAAA,CAAA,OAAA,GAAO,M;;AAAG,GAAnD,E,IAAA,E;;AAAA,G,iBAAyC,MAAA,CAAA,O,GACvC,CAJN,C,EAKA,mBAAA,CAIM,KAJN,EAIM,IAJN,EAIM,CAHF,UAGE,EAFF,UAEE,E,gBADF,mBAAA,CAA6D,OAA7D,EAA6D;AAAtD,IAAA,EAAE,EAAC,cAAmD;AAApC,IAAA,IAAI,EAAC,MAA+B;;aAAf,MAAA,CAAA,YAAA,GAAY,M;;AAAG,GAA7D,E,IAAA,E;;AAAA,G,iBAA8C,MAAA,CAAA,Y,GAC5C,CAJN,C,EAKA,mBAAA,CAIM,KAJN,EAIM,IAJN,EAIM,CAHF,UAGE,EAFF,UAEE,E,gBADF,mBAAA,CAAiE,OAAjE,EAAiE;AAA1D,IAAA,EAAE,EAAC,gBAAuD;AAAtC,IAAA,IAAI,EAAC,MAAiC;;aAAjB,MAAA,CAAA,cAAA,GAAc,M;;AAAG,GAAjE,E,IAAA,E;;AAAA,G,iBAAgD,MAAA,CAAA,c,GAC9C,CAJN,C,EAKA,U,EAEA,mBAAA,CAAA,kwBAAA,C,EAgBA,W,CAlCJ,E;;AAAA,GAoCE,CArCN,CAsCE,CA1CN,C","sourcesContent":["<template>\n    <div class=\"registerDepartment\">\n        <h1>\n            登記部門\n        </h1>\n        <div>\n            <form @submit.prevent=\"register\">\n                <div>\n                    <label for=\"address\">地址: </label>\n                    <br>\n                    <input id=\"address\" type=\"text\" v-model=\"address\" >\n                </div>\n                <div>\n                    <label for=\"departmentId\">ID: </label>\n                    <br>\n                    <input id=\"departmentId\" type=\"text\" v-model=\"departmentId\" >\n                </div>\n                <div>\n                    <label for=\"departmentName\">部門名稱:</label>\n                    <br>\n                    <input id=\"departmentName\" type=\"text\" v-model=\"departmentName\" >\n                </div>\n                <br>\n\n                <!-- <div>\n                    <label for=\"email\">Email:</label>\n                    <br>\n                    <input id=\"email\" type=\"text\" v-model=\"email\">\n                </div>\n                <div>\n                    <label for=\"phone\">聯絡電話:</label>\n                    <br>\n                    <input id=\"phone\" type=\"text\" v-model=\"phone\">\n                </div>\n                <p>\n                    <input id=\"category-official\" type=\"radio\" v-model=\"category\" value=\"官方\">\n                    <label for=\"category-official\">官方</label>\n                    <input id=\"category-student\" type=\"radio\" v-model=\"category\" value=\"學生\">\n                    <label for=\"category-student\">學生</label>\n                </p> -->\n                <input type=\"submit\" value=\"提交\">\n            </form>\n        </div>\n    </div>  \n</template>\n\n<script>\nimport {onBeforeMount, ref, computed} from 'vue'\nimport {useStore} from 'vuex'\nimport {useRoute, useRouter} from 'vue-router'\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\n\nimport {web3, contract} from \"@/contract/contract.js\"\n\nexport default {\n    setup() {\n        const router = useRouter()\n        const store = useStore()\n\n        const auth = getAuth()\n        onBeforeMount(() => {\n        onAuthStateChanged(auth, (user) => {\n            if (!user) {\n            router.replace('/login')\n            }else {\n            //   console.log(auth.currentUser.providerData)\n            }\n        })\n        })\n\n\n        const departmentId = ref(\"\")\n        const departmentName = ref(\"\")\n        const email = ref(\"\")\n        const phone = ref(\"\")\n        const category = ref(\"\")\n        \n        \n\n        const register = async () => {\n            const address = await web3.eth.getAccounts()\n            contract.methods.registerDepartment(departmentId.value, departmentName.value)\n                .send({\n                    from : address[0],\n                    gas : 9187500,\n            }).then(() => {\n                router.replace('/')\n            }).catch(window.alert)\n        }\n\n\n\n\n        return {\n            departmentName,\n            departmentId,\n            email,\n            phone,\n            category,\n            address: computed(() => store.state.user.address),\n            register\n        }\n    },\n}\n</script>\n\n<style scoped>\n#preview-img {\n    width: 50%;\n}\n</style>"],"sourceRoot":""}]}