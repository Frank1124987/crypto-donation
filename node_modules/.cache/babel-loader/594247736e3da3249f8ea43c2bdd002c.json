{"remainingRequest":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\src\\components\\plan\\PlanTemp.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\src\\components\\plan\\PlanTemp.vue","mtime":1634916527484},{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IHJlZiwgY29tcHV0ZWQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyB1c2VSb3V0ZSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyBjb250cmFjdCB9IGZyb20gJ0AvY29udHJhY3QvY29udHJhY3QuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHBsYW46IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMpIHsKICAgIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICB2YXIgcm91dGUgPSB1c2VSb3V0ZSgpOwogICAgdmFyIHBsYW4gPSByZWYocHJvcHMucGxhbik7CiAgICB2YXIgYW1vdW50ID0gcmVmKDApOwoKICAgIHZhciBkb25hdGUgPSBmdW5jdGlvbiBkb25hdGUoKSB7CiAgICAgIGNvbnRyYWN0Lm1ldGhvZHMuZG9uYXRlKHN0b3JlLnN0YXRlLnVzZXIuaWQsIHJvdXRlLnBhcmFtcy5kZXBhcnRtZW50SWQsIHBsYW4udmFsdWUubmFtZSkuc2VuZCh7CiAgICAgICAgZnJvbTogc3RvcmUuc3RhdGUudXNlci5hZGRyZXNzLAogICAgICAgIGdhczogNjcyMTk3NSwKICAgICAgICBnYXNQcmljZTogJzMwMDAwMDAwJywKICAgICAgICB2YWx1ZTogYW1vdW50LnZhbHVlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIGNvbnNvbGUubG9nKCJyZXN1bHQiLCByZXN1bHQpOwogICAgICAgIGNvbnRyYWN0Lm1ldGhvZHMuZ2V0UGxhbihyb3V0ZS5wYXJhbXMuZGVwYXJ0bWVudElkLCBwbGFuLnZhbHVlLm5hbWUpLmNhbGwoKS50aGVuKGNvbnNvbGUubG9nKTsKICAgICAgfSkuY2F0Y2goY29uc29sZS5sb2cpOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICBwbGFuOiBwbGFuLAogICAgICB1c2VySWQ6IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gc3RvcmUuc3RhdGUudXNlci5pZDsKICAgICAgfSksCiAgICAgIGFtb3VudDogYW1vdW50LAogICAgICBkb25hdGU6IGRvbmF0ZQogICAgfTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\src\\components\\plan\\PlanTemp.vue"],"names":[],"mappings":";AAqBA,SAAQ,GAAR,EAAa,QAAb,QAA4B,KAA5B;AACA,SAAQ,QAAR,QAAuB,MAAvB;AACA,SAAQ,QAAR,QAAuB,YAAvB;AACA,SAAQ,QAAR,QAAuB,wBAAvB;AACA,eAAc;AACV,EAAA,KAAK,EAAE;AACH,IAAA,IAAI,EAAE;AACF,MAAA,IAAI,EAAE;AADJ;AADH,GADG;AAMV,EAAA,KANU,iBAMJ,KANI,EAMG;AACT,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,KAAI,GAAI,QAAQ,EAAtB;AAEA,QAAM,IAAG,GAAI,GAAG,CAAC,KAAK,CAAC,IAAP,CAAhB;AACA,QAAM,MAAK,GAAI,GAAG,CAAC,CAAD,CAAlB;;AACA,QAAM,MAAK,GAAI,SAAT,MAAS,GAAM;AAEjB,MAAA,QAAQ,CAAC,OAAT,CAAiB,MAAjB,CAAwB,KAAK,CAAC,KAAN,CAAY,IAAZ,CAAiB,EAAzC,EAA6C,KAAK,CAAC,MAAN,CAAa,YAA1D,EAAwE,IAAI,CAAC,KAAL,CAAW,IAAnF,EAAyF,IAAzF,CAA8F;AAC1F,QAAA,IAAI,EAAE,KAAK,CAAC,KAAN,CAAY,IAAZ,CAAiB,OADmE;AAE1F,QAAA,GAAE,EAAI,OAFoF;AAG1F,QAAA,QAAO,EAAI,UAH+E;AAI1F,QAAA,KAAK,EAAE,MAAM,CAAC;AAJ4E,OAA9F,EAKG,IALH,CAKQ,UAAC,MAAD,EAAY;AAChB,QAAA,OAAO,CAAC,GAAR,CAAY,QAAZ,EAAqB,MAArB;AACA,QAAA,QAAQ,CAAC,OAAT,CAAiB,OAAjB,CAAyB,KAAK,CAAC,MAAN,CAAa,YAAtC,EAAoD,IAAI,CAAC,KAAL,CAAW,IAA/D,EAAqE,IAArE,GAA4E,IAA5E,CAAiF,OAAO,CAAC,GAAzF;AACH,OARD,EAQG,KARH,CAQS,OAAO,CAAC,GARjB;AASJ,KAXA;;AAYA,WAAO;AACH,MAAA,IAAI,EAAJ,IADG;AAEH,MAAA,MAAM,EAAE,QAAQ,CAAC;AAAA,eAAM,KAAK,CAAC,KAAN,CAAY,IAAZ,CAAiB,EAAvB;AAAA,OAAD,CAFb;AAGH,MAAA,MAAM,EAAN,MAHG;AAIH,MAAA,MAAK,EAAL;AAJG,KAAP;AAMJ;AA9BU,CAAd","sourcesContent":["<template>\r\n    <div class=\"plan\">\r\n        <h2>\r\n            {{ plan.name}}\r\n        </h2>\r\n        <h3>\r\n            {{ plan.description}}\r\n        </h3>\r\n        <h3>\r\n            已募金額：{{ plan.accumulate }}\r\n        </h3>\r\n        <form @submit.prevent=\"donate\">\r\n            <p>使用者ID：{{ userId }} | 部門ID：{{ $route.params.departmentId }}</p>\r\n            <input type=\"number\" v-model=\"amount\">\r\n            <input type=\"submit\" value=\"捐款\">\r\n        </form>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {ref, computed} from 'vue'\r\nimport {useStore} from 'vuex'\r\nimport {useRoute} from 'vue-router'\r\nimport {contract} from '@/contract/contract.js'\r\nexport default{\r\n    props: {\r\n        plan: {\r\n            type: Object\r\n        }\r\n    },\r\n    setup(props) {\r\n        const store = useStore()\r\n        const route = useRoute()\r\n\r\n        const plan = ref(props.plan)\r\n        const amount = ref(0)\r\n        const donate = () => {\r\n\r\n            contract.methods.donate(store.state.user.id, route.params.departmentId, plan.value.name).send({\r\n                from: store.state.user.address,\r\n                gas : 6721975,\r\n                gasPrice : '30000000',\r\n                value: amount.value\r\n            }).then((result) => {\r\n                console.log(\"result\",result)\r\n                contract.methods.getPlan(route.params.departmentId, plan.value.name).call().then(console.log)\r\n            }).catch(console.log)\r\n        }\r\n        return {\r\n            plan,\r\n            userId: computed(() => store.state.user.id),\r\n            amount,\r\n            donate\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.plan{\r\n    padding : 2%;\r\n    border-style: solid;\r\n    margin: 1% 0 1% 0;\r\n}\r\n</style>"],"sourceRoot":""}]}