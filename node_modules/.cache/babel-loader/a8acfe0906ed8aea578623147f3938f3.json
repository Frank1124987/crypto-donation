{"remainingRequest":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\src\\views\\Register.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\src\\views\\Register.vue","mtime":1640104029155},{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0c1MDFWVy9EZXNrdG9wLzA4MTcvY3J5cHRvLWRvbmF0aW9uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyByZWYsIHdhdGNoIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgZ2V0QXV0aCwgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkIH0gZnJvbSAiZmlyZWJhc2UvYXV0aCI7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgYWNjb3VudFNlcnZpY2UgZnJvbSAiQC9maXJlc3RvcmUvZmlyZXN0b3JlRnVuYy5qcyI7CmltcG9ydCB7IHdlYjMsIGNvbnRyYWN0IH0gZnJvbSAiQC9jb250cmFjdC9jb250cmFjdC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmVnaXN0ZXInLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBlbWFpbCA9IHJlZigiIik7CiAgICB2YXIgcGFzc3dvcmQgPSByZWYoIiIpOwogICAgdmFyIHVzZXJuYW1lID0gcmVmKCIiKTsKICAgIHZhciByb3V0ZSA9IHVzZVJvdXRlcigpOwogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKCiAgICB2YXIgcmVnaXN0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgYXV0aCwgYWNjb3VudHM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgYXV0aCA9IGdldEF1dGgoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHdlYjMuZXRoLmdldEFjY291bnRzKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGFjY291bnRzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZChhdXRoLCBlbWFpbC52YWx1ZSwgcGFzc3dvcmQudmFsdWUpLnRoZW4oZnVuY3Rpb24gKHVzZXJDcmVkZW50aWFsKSB7CiAgICAgICAgICAgICAgICAgIC8vIFNpZ25lZCBpbiAKICAgICAgICAgICAgICAgICAgYWNjb3VudFNlcnZpY2UuY3JlYXRlRXRoZXJldW1JZChzdG9yZS5zdGF0ZS51c2VyLnVJZCwgewogICAgICAgICAgICAgICAgICAgIGV0aGVyZXVtSWQ6IGVtYWlsLnZhbHVlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBjb250cmFjdC5tZXRob2RzLnJlZ2lzdGVyRG9ub3IoZW1haWwudmFsdWUsIHVzZXJuYW1lLnZhbHVlKS5zZW5kKHsKICAgICAgICAgICAgICAgICAgICBmcm9tOiBhY2NvdW50c1swXSwKICAgICAgICAgICAgICAgICAgICBnYXM6IDkxODc1MDAKICAgICAgICAgICAgICAgICAgfSkudGhlbihjb25zb2xlLmxvZyk7CiAgICAgICAgICAgICAgICAgIHJvdXRlLnB1c2goJy8nKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICB2YXIgZXJyb3JDb2RlID0gZXJyb3IuY29kZTsKICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yQ29kZSwgZXJyb3JNZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgcmV0dXJuIHsKICAgICAgZW1haWw6IGVtYWlsLAogICAgICBwYXNzd29yZDogcGFzc3dvcmQsCiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgcmVnaXN0ZXI6IHJlZ2lzdGVyCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\src\\views\\Register.vue"],"names":[],"mappings":";;AA+BA,SAAQ,GAAR,EAAa,KAAb,QAAyB,KAAzB;AACA,SAAS,OAAT,EAAkB,8BAAlB,QAAwD,eAAxD;AACA,SAAQ,SAAR,QAAwB,YAAxB;AACA,SAAQ,QAAR,QAAuB,MAAvB;AAEA,OAAO,cAAP,MAA2B,8BAA3B;AACA,SAAQ,IAAR,EAAc,QAAd,QAA6B,wBAA7B;AACA,eAAc;AACV,EAAA,IAAI,EAAE,UADI;AAEV,EAAA,KAFU,mBAEH;AACH,QAAM,KAAI,GAAI,GAAG,CAAC,EAAD,CAAjB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC,EAAD,CAApB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC,EAAD,CAApB;AAEA,QAAM,KAAI,GAAI,SAAS,EAAvB;AACA,QAAM,KAAI,GAAI,QAAQ,EAAtB;;AAGA,QAAM,QAAO;AAAA,yEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AACP,gBAAA,IADO,GACA,OAAO,EADP;AAAA;AAAA,uBAEU,IAAI,CAAC,GAAL,CAAS,WAAT,EAFV;;AAAA;AAEP,gBAAA,QAFO;AAGb,gBAAA,8BAA8B,CAAC,IAAD,EAAO,KAAK,CAAC,KAAb,EAAoB,QAAQ,CAAC,KAA7B,CAA9B,CACK,IADL,CACU,UAAC,cAAD,EAAoB;AACtB;AACA,kBAAA,cAAc,CAAC,gBAAf,CAAgC,KAAK,CAAC,KAAN,CAAY,IAAZ,CAAiB,GAAjD,EAAsD;AAAC,oBAAA,UAAS,EAAI,KAAK,CAAC;AAApB,mBAAtD;AACA,kBAAA,QAAQ,CAAC,OAAT,CAAiB,aAAjB,CAA+B,KAAK,CAAC,KAArC,EAA4C,QAAQ,CAAC,KAArD,EAA4D,IAA5D,CAAiE;AAC7D,oBAAA,IAAI,EAAE,QAAQ,CAAC,CAAD,CAD+C;AAE7D,oBAAA,GAAE,EAAI;AAFuD,mBAAjE,EAGG,IAHH,CAGQ,OAAO,CAAC,GAHhB;AAIA,kBAAA,KAAK,CAAC,IAAN,CAAW,GAAX;AACH,iBATL,EAUK,KAVL,CAUW,UAAC,KAAD,EAAW;AACd,sBAAM,SAAQ,GAAI,KAAK,CAAC,IAAxB;AACA,sBAAM,YAAW,GAAI,KAAK,CAAC,OAA3B;AACA,kBAAA,OAAO,CAAC,GAAR,CAAY,SAAZ,EAAuB,YAAvB;AACH,iBAdL;;AAHa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAP,QAAO;AAAA;AAAA;AAAA,OAAb;;AAoBA,WAAO;AACH,MAAA,KAAK,EAAL,KADG;AAEH,MAAA,QAAQ,EAAR,QAFG;AAGH,MAAA,QAAQ,EAAR,QAHG;AAIH,MAAA,QAAO,EAAP;AAJG,KAAP;AAMJ;AArCU,CAAd","sourcesContent":["<template>\r\n    <div class=\"register\">\r\n        <h1>\r\n            Register\r\n        </h1>\r\n        <form @submit.prevent=\"register\">\r\n            <div>\r\n                <label for=\"email\">Email:</label>\r\n                <br>\r\n                <input type=\"text\" id=\"email\" v-model=\"email\" name=\"email\">\r\n            </div>\r\n            <br>\r\n            <div>\r\n                <label for=\"password\">Password:</label>\r\n                <br>\r\n                <input type=\"password\" id=\"password\" v-model=\"password\" name=\"password\">\r\n            </div>\r\n            <div>\r\n                <label for=\"username\">Username:</label>\r\n                <br>\r\n                <input type=\"text\" id=\"username\" v-model=\"username\" name=\"username\">\r\n            </div>\r\n            <br>\r\n            <input type=\"submit\" value=\"Submit\">\r\n        </form>\r\n        <router-link to=\"Login\">Login</router-link>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {ref, watch} from 'vue'\r\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport {useRouter} from \"vue-router\"\r\nimport {useStore} from \"vuex\"\r\n\r\nimport accountService from \"@/firestore/firestoreFunc.js\"\r\nimport {web3, contract} from \"@/contract/contract.js\"\r\nexport default{\r\n    name: 'Register',\r\n    setup(){\r\n        const email = ref(\"\")\r\n        const password = ref(\"\")\r\n        const username = ref(\"\")\r\n\r\n        const route = useRouter()\r\n        const store = useStore()\r\n\r\n\r\n        const register = async () => {\r\n            const auth = getAuth();\r\n            const accounts = await web3.eth.getAccounts()\r\n            createUserWithEmailAndPassword(auth, email.value, password.value)\r\n                .then((userCredential) => {\r\n                    // Signed in \r\n                    accountService.createEthereumId(store.state.user.uId, {ethereumId : email.value})\r\n                    contract.methods.registerDonor(email.value, username.value).send({\r\n                        from: accounts[0],\r\n                        gas : 9187500\r\n                    }).then(console.log)\r\n                    route.push('/')\r\n                })\r\n                .catch((error) => {\r\n                    const errorCode = error.code;\r\n                    const errorMessage = error.message;\r\n                    console.log(errorCode, errorMessage)\r\n                });\r\n        }\r\n\r\n        return {\r\n            email,\r\n            password,\r\n            username,\r\n            register\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nform > input {\r\n    margin: 1%;\r\n}\r\n\r\n.register {\r\n    text-align: center;\r\n}\r\n</style>"],"sourceRoot":""}]}