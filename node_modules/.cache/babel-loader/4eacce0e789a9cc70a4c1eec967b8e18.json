{"remainingRequest":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/babel-loader/lib/index.js!/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/src/store/index.js","dependencies":[{"path":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/src/store/index.js","mtime":1642503147300},{"path":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy93ZWlmYW40NTY5OTA4L0RvY3VtZW50cy9DcnlwdG9fRG9uYXRpb24vY3J5cHRvLWRvbmF0ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBjb250cmFjdCB9IGZyb20gJy4uL2NvbnRyYWN0L2NvbnRyYWN0LmpzJzsKdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUoewogIHN0YXRlOiBmdW5jdGlvbiBzdGF0ZSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRlcGFydG1lbnQ6IFtdLAogICAgICBwbGFuOiBbXSwKICAgICAgdXNlcjogewogICAgICAgIGlkOiBudWxsLAogICAgICAgIGFkZHJlc3M6ICIweDBkRDUyNjVkOGM0MzEzNGIyYTZBRUEyODAwOUI0Qzk2OWFBZGY5ODAiCiAgICAgIH0KICAgIH07CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBnZXREZXBhcnRtZW50OiBmdW5jdGlvbiBnZXREZXBhcnRtZW50KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5kZXBhcnRtZW50OwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBpbml0aWFsQXNzaWduOiBmdW5jdGlvbiBpbml0aWFsQXNzaWduKHN0YXRlLCBhbGxEZXBhcnRtZW50KSB7CiAgICAgIHN0YXRlLmRlcGFydG1lbnQgPSBhbGxEZXBhcnRtZW50OwogICAgICBjb25zb2xlLmxvZyhzdGF0ZS5kZXBhcnRtZW50KTsKICAgIH0sCiAgICB1cGRhdGVEZXBhcnRtZW50OiBmdW5jdGlvbiB1cGRhdGVEZXBhcnRtZW50KHN0YXRlLCBuZXdEZXBhcnRtZW50KSB7CiAgICAgIGNvbnNvbGUubG9nKCdoaScsIG5ld0RlcGFydG1lbnQpOwogICAgICBzdGF0ZS5kZXBhcnRtZW50LnB1c2gobmV3RGVwYXJ0bWVudCk7CiAgICB9LAogICAgdXBkYXRlUGxhbjogZnVuY3Rpb24gdXBkYXRlUGxhbihzdGF0ZSwgbmV3UGxhbikgewogICAgICBzdGF0ZS5wbGFuLnB1c2gobmV3UGxhbik7CiAgICB9LAogICAgYWRkVXNlcklkOiBmdW5jdGlvbiBhZGRVc2VySWQoc3RhdGUsIGFkZHJlc3MpIHsKICAgICAgY29uc29sZS5sb2coYWRkcmVzcyk7CiAgICAgIHN0YXRlLnVzZXIuaWQgPSBhZGRyZXNzOwogICAgfSwKICAgIGNsZWFyRGVwYXJ0bWVudDogZnVuY3Rpb24gY2xlYXJEZXBhcnRtZW50KHN0YXRlKSB7CiAgICAgIHN0YXRlLmRlcGFydG1lbnQgPSBbXTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGluaXRpYWxGZXRjaDogZnVuY3Rpb24gaW5pdGlhbEZldGNoKF9yZWYpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgaWRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIGNvbW1pdCgiY2xlYXJEZXBhcnRtZW50Iik7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gY29udHJhY3QubWV0aG9kcy5nZXREZXBhcnRtZW50X2lkcygpLmNhbGwoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgaWRzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBpZHMuZm9yRWFjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGlkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBjb21taXQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250cmFjdC5tZXRob2RzLmdldERlcGFydG1lbnQoaWQpLmNhbGwoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIF9jb250ZXh0LnQwKSgidXBkYXRlRGVwYXJ0bWVudCIsIF9jb250ZXh0LnQxKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZVN0YXRlOiBmdW5jdGlvbiB1cGRhdGVTdGF0ZShfcmVmMykgewogICAgICB2YXIgc3RhdGUgPSBfcmVmMy5zdGF0ZSwKICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgcmV0dXJuIGNvbnRyYWN0Lm1ldGhvZHMuZ2V0RGVwYXJ0bWVudF9pZHMoKS5jYWxsKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgY29tbWl0KCd1cGRhdGVEZXBhcnRtZW50JywgcmVzdWx0KTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7CiAgICAgIH0pOwogICAgfQogIH0KfSk7CmV4cG9ydCB7IHN0b3JlIH07"},{"version":3,"sources":["/Users/weifan4569908/Documents/Crypto_Donation/crypto-donate/src/store/index.js"],"names":["createStore","contract","store","state","department","plan","user","id","address","getters","getDepartment","mutations","initialAssign","allDepartment","console","log","updateDepartment","newDepartment","push","updatePlan","newPlan","addUserId","clearDepartment","actions","initialFetch","commit","methods","getDepartment_ids","call","ids","forEach","updateState","then","result","Promise","resolve"],"mappings":";;;;AAAA,SAAQA,WAAR,QAA0B,MAA1B;AACA,SAAQC,QAAR,QAAuB,yBAAvB;AAEA,IAAMC,KAAK,GAAGF,WAAW,CAAC;AACtBG,EAAAA,KADsB,mBACb;AACL,WAAO;AACHC,MAAAA,UAAU,EAAG,EADV;AAEHC,MAAAA,IAAI,EAAG,EAFJ;AAGHC,MAAAA,IAAI,EAAE;AACFC,QAAAA,EAAE,EAAE,IADF;AAEFC,QAAAA,OAAO,EAAE;AAFP;AAHH,KAAP;AAQH,GAVqB;AAWtBC,EAAAA,OAAO,EAAE;AACLC,IAAAA,aADK,yBACSP,KADT,EACe;AAChB,aAAOA,KAAK,CAACC,UAAb;AACH;AAHI,GAXa;AAgBtBO,EAAAA,SAAS,EAAE;AACPC,IAAAA,aADO,yBACOT,KADP,EACcU,aADd,EAC4B;AAC/BV,MAAAA,KAAK,CAACC,UAAN,GAAmBS,aAAnB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYZ,KAAK,CAACC,UAAlB;AAEH,KALM;AAMPY,IAAAA,gBANO,4BAMUb,KANV,EAMiBc,aANjB,EAM+B;AAClCH,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBE,aAAlB;AACAd,MAAAA,KAAK,CAACC,UAAN,CAAiBc,IAAjB,CAAsBD,aAAtB;AACH,KATM;AAUPE,IAAAA,UAVO,sBAUIhB,KAVJ,EAUWiB,OAVX,EAUmB;AACtBjB,MAAAA,KAAK,CAACE,IAAN,CAAWa,IAAX,CAAgBE,OAAhB;AACH,KAZM;AAaPC,IAAAA,SAbO,qBAaGlB,KAbH,EAaUK,OAbV,EAakB;AACrBM,MAAAA,OAAO,CAACC,GAAR,CAAYP,OAAZ;AACAL,MAAAA,KAAK,CAACG,IAAN,CAAWC,EAAX,GAAgBC,OAAhB;AACH,KAhBM;AAiBPc,IAAAA,eAjBO,2BAiBSnB,KAjBT,EAiBe;AAClBA,MAAAA,KAAK,CAACC,UAAN,GAAiB,EAAjB;AACH;AAnBM,GAhBW;AAqCtBmB,EAAAA,OAAO,EAAE;AACCC,IAAAA,YADD,8BACuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAARC,gBAAAA,MAAQ,QAARA,MAAQ;AACxBA,gBAAAA,MAAM,CAAC,iBAAD,CAAN;AADwB;AAAA,uBAENxB,QAAQ,CAACyB,OAAT,CAAiBC,iBAAjB,GAAqCC,IAArC,EAFM;;AAAA;AAElBC,gBAAAA,GAFkB;AAGxBA,gBAAAA,GAAG,CAACC,OAAJ;AAAA,sFAAY,iBAAMvB,EAAN;AAAA;AAAA;AAAA;AAAA;AAAA,0CACRkB,MADQ;AAAA;AAAA,mCACyBxB,QAAQ,CAACyB,OAAT,CAAiBhB,aAAjB,CAA+BH,EAA/B,EAAmCqB,IAAnC,EADzB;;AAAA;AAAA;AAAA,6CACD,kBADC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAZ;;AAAA;AAAA;AAAA;AAAA;;AAHwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAO3B,KARI;AASLG,IAAAA,WATK,8BASuB;AAAA,UAAf5B,KAAe,SAAfA,KAAe;AAAA,UAARsB,MAAQ,SAARA,MAAQ;AACxB,aAAOxB,QAAQ,CAACyB,OAAT,CAAiBC,iBAAjB,GAAqCC,IAArC,GAA4CI,IAA5C,CAAiD,UAACC,MAAD,EAAY;AAChER,QAAAA,MAAM,CAAC,kBAAD,EAAqBQ,MAArB,CAAN;AACA,eAAOC,OAAO,CAACC,OAAR,CAAgBF,MAAhB,CAAP;AACH,OAHM,CAAP;AAIH;AAdI;AArCa,CAAD,CAAzB;AAuDA,SAAQ/B,KAAR","sourcesContent":["import {createStore} from 'vuex'\nimport {contract} from '../contract/contract.js'\n\nconst store = createStore({\n    state () {\n        return {\n            department : [],\n            plan : [],\n            user: {\n                id: null,\n                address: \"0x0dD5265d8c43134b2a6AEA28009B4C969aAdf980\"\n            }\n        }\n    },\n    getters: {\n        getDepartment(state){\n            return state.department\n        }\n    },\n    mutations: {\n        initialAssign(state, allDepartment){\n            state.department = allDepartment\n            console.log(state.department)\n            \n        },\n        updateDepartment(state, newDepartment){\n            console.log('hi', newDepartment)\n            state.department.push(newDepartment)\n        },\n        updatePlan(state, newPlan){\n            state.plan.push(newPlan)\n        },\n        addUserId(state, address){\n            console.log(address)\n            state.user.id = address\n        },\n        clearDepartment(state){\n            state.department=[]\n        }\n    },\n    actions: {\n        async initialFetch({commit}){\n            commit(\"clearDepartment\")\n            const ids = await contract.methods.getDepartment_ids().call()\n            ids.forEach(async id => {\n                commit(\"updateDepartment\", await contract.methods.getDepartment(id).call()\n                )\n            })\n        },  \n        updateState({state, commit}){\n            return contract.methods.getDepartment_ids().call().then((result) => {\n                commit('updateDepartment', result)\n                return Promise.resolve(result)\n            })\n        }\n    }\n})\n\nexport {store}"]}]}