{"remainingRequest":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\src\\views\\user\\RegisterDonor.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\src\\views\\user\\RegisterDonor.vue","mtime":1640104029163},{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0c1MDFWVy9EZXNrdG9wLzA4MTcvY3J5cHRvLWRvbmF0aW9uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyByZWYsIGNvbXB1dGVkIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgY29udHJhY3QgfSBmcm9tICdAL2NvbnRyYWN0L2NvbnRyYWN0LmpzJzsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IGdldEF1dGggfSBmcm9tICdmaXJlYmFzZS9hdXRoJzsKaW1wb3J0IGFjY291bnRTZXJ2aWNlIGZyb20gJ0AvZmlyZXN0b3JlL2ZpcmVzdG9yZUZ1bmMuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIHZhciB1c2VySWQgPSByZWYoIiIpOwogICAgdmFyIHVzZXJOYW1lID0gcmVmKCIiKTsKICAgIHZhciBhZGRyZXNzID0gcmVmKCIiKTsKCiAgICB2YXIgcmVnaXN0ZXJEb25vciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFkZHJlc3MudmFsdWUpOwogICAgICAgICAgICAgICAgY29udHJhY3QubWV0aG9kcy5yZWdpc3RlckRvbm9yKHVzZXJJZC52YWx1ZSwgdXNlck5hbWUudmFsdWUpLnNlbmQoewogICAgICAgICAgICAgICAgICBmcm9tOiBhZGRyZXNzLnZhbHVlLAogICAgICAgICAgICAgICAgICBnYXM6IDkxODc1MDAKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBzdG9yZS5jb21taXQoInNldFVzZXJFdGhlcmV1bUlkIiwgdXNlcklkLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgY29udHJhY3QubWV0aG9kcy5yZWdpc3RlckxvZ2luQWRkcmVzcyh1c2VySWQudmFsdWUsIGFkZHJlc3MudmFsdWUpLnNlbmQoewogICAgICAgICAgICAgICAgICAgIGZyb206IGFkZHJlc3MudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgZ2FzOiA2NzIxOTc1LAogICAgICAgICAgICAgICAgICAgIGdhc1ByaWNlOiAnMzAwMDAwMDAnCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaGZzZGlhZmFmc2FzYWRzZGFzZGZkYSIpOwogICAgICAgICAgICAgICAgICB2YXIgdXNlckRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgZXRoZXJldW1JZDogdXNlcklkLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIGV0aGVyZXVtQWRkcmVzczogYWRkcmVzcy52YWx1ZQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICBhY2NvdW50U2VydmljZS5jcmVhdGVBY2NvdW50KHN0b3JlLnN0YXRlLnVzZXIudUlkLCB1c2VyRGF0YSk7CiAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KGVycm9yKTsKICAgICAgICAgICAgICAgICAgcm91dGVyLmdvKCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiByZWdpc3RlckRvbm9yKCkgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgcmV0dXJuIHsKICAgICAgcmVnaXN0ZXJEb25vcjogcmVnaXN0ZXJEb25vciwKICAgICAgdXNlck5hbWU6IHVzZXJOYW1lLAogICAgICB1c2VySWQ6IHVzZXJJZCwKICAgICAgYWRkcmVzczogYWRkcmVzcwogICAgfTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\G501VW\\Desktop\\0817\\crypto-donation\\src\\views\\user\\RegisterDonor.vue"],"names":[],"mappings":";;AA4BA,SAAQ,GAAR,EAAa,QAAb,QAA4B,KAA5B;AACA,SAAQ,QAAR,QAAuB,MAAvB;AACA,SAAQ,QAAR,QAAuB,wBAAvB;AACA,SAAQ,SAAR,QAAwB,YAAxB;AACA,SAAQ,OAAR,QAAsB,eAAtB;AAEA,OAAO,cAAP,MAA2B,8BAA3B;AACA,eAAc;AACV,EAAA,KADU,mBACH;AACH,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,MAAK,GAAI,SAAS,EAAxB;AAEA,QAAM,MAAK,GAAI,GAAG,CAAC,EAAD,CAAlB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC,EAAD,CAApB;AACA,QAAM,OAAM,GAAI,GAAG,CAAC,EAAD,CAAnB;;AAEA,QAAM,aAAY;AAAA,yEAAI;AAAA;AAAA;AAAA;AAAA;AAClB,gBAAA,OAAO,CAAC,GAAR,CAAY,OAAO,CAAC,KAApB;AACA,gBAAA,QAAQ,CAAC,OAAT,CAAiB,aAAjB,CAA+B,MAAM,CAAC,KAAtC,EAA6C,QAAQ,CAAC,KAAtD,EAA6D,IAA7D,CAAkE;AAC9D,kBAAA,IAAI,EAAE,OAAO,CAAC,KADgD;AAE9D,kBAAA,GAAE,EAAI;AAFwD,iBAAlE,EAGG,IAHH,CAGQ,YAAM;AACV,kBAAA,KAAK,CAAC,MAAN,CAAa,mBAAb,EAAkC,MAAM,CAAC,KAAzC;AACA,kBAAA,QAAQ,CAAC,OAAT,CAAiB,oBAAjB,CAAsC,MAAM,CAAC,KAA7C,EAAoD,OAAO,CAAC,KAA5D,EAAmE,IAAnE,CAAwE;AACpE,oBAAA,IAAI,EAAE,OAAO,CAAC,KADsD;AAEpE,oBAAA,GAAE,EAAI,OAF8D;AAGpE,oBAAA,QAAO,EAAI;AAHyD,mBAAxE;AAMA,kBAAA,OAAO,CAAC,GAAR,CAAY,wBAAZ;AACA,sBAAM,QAAO,GAAI;AACb,oBAAA,UAAU,EAAE,MAAM,CAAC,KADN;AAEb,oBAAA,eAAe,EAAE,OAAO,CAAC;AAFZ,mBAAjB;AAIA,kBAAA,cAAc,CAAC,aAAf,CAA6B,KAAK,CAAC,KAAN,CAAY,IAAZ,CAAiB,GAA9C,EAAmD,QAAnD;AACA,kBAAA,MAAM,CAAC,IAAP,CAAY,GAAZ;AACH,iBAlBD,EAkBG,KAlBH,CAkBS,UAAA,KAAI,EAAK;AACd,kBAAA,MAAM,CAAC,KAAP,CAAa,KAAb;AACA,kBAAA,MAAM,CAAC,EAAP;AACH,iBArBD;;AAFkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAZ,aAAY;AAAA;AAAA;AAAA,OAAlB;;AA4BA,WAAO;AACH,MAAA,aAAa,EAAb,aADG;AAEH,MAAA,QAAQ,EAAR,QAFG;AAGH,MAAA,MAAM,EAAN,MAHG;AAIH,MAAA,OAAM,EAAN;AAJG,KAAP;AAMJ;AA3CU,CAAd","sourcesContent":["<template>\r\n    <div>\r\n        <h1>\r\n            登記捐款帳號\r\n        </h1>\r\n        <form @submit.prevent=\"registerDonor\">\r\n            <div>\r\n                <label for=\"userId\">ID: </label>\r\n                <br>\r\n                <input id=\"userId\" type=\"text\" v-model=\"userId\" >\r\n            </div>\r\n            <div>\r\n                <label for=\"userName\">使用者名稱:</label>\r\n                <br>\r\n                <input id=\"userName\" type=\"text\" v-model=\"userName\" >\r\n            </div>\r\n            <div>\r\n                <label for=\"address\">地址: </label>\r\n                <br>\r\n                <input id=\"address\" type=\"text\" v-model=\"address\" >\r\n            </div>\r\n            <br>\r\n            <input type=\"submit\" value=\"提交\">\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {ref, computed} from 'vue'\r\nimport {useStore} from 'vuex'\r\nimport {contract} from '@/contract/contract.js'\r\nimport {useRouter} from 'vue-router'\r\nimport {getAuth} from 'firebase/auth'\r\n\r\nimport accountService from '@/firestore/firestoreFunc.js'\r\nexport default{\r\n    setup(){\r\n        const store = useStore()\r\n        const router = useRouter()\r\n\r\n        const userId = ref(\"\")\r\n        const userName = ref(\"\")\r\n        const address = ref(\"\")\r\n        \r\n        const registerDonor = async () => {\r\n            console.log(address.value)\r\n            contract.methods.registerDonor(userId.value, userName.value).send({\r\n                from: address.value,\r\n                gas : 9187500\r\n            }).then(() => {\r\n                store.commit(\"setUserEthereumId\", userId.value)\r\n                contract.methods.registerLoginAddress(userId.value, address.value).send({\r\n                    from: address.value,\r\n                    gas : 6721975,\r\n                    gasPrice : '30000000'  \r\n                })\r\n                \r\n                console.log(\"hfsdiafafsasadsdasdfda\")\r\n                const userData = {\r\n                    ethereumId: userId.value,\r\n                    ethereumAddress: address.value\r\n                }\r\n                accountService.createAccount(store.state.user.uId, userData)\r\n                router.push('/')\r\n            }).catch(error => {\r\n                window.alert(error)\r\n                router.go()\r\n            })\r\n        }\r\n\r\n\r\n\r\n        return {\r\n            registerDonor,\r\n            userName,\r\n            userId,\r\n            address\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":""}]}